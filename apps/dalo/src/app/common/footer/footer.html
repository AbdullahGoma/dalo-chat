<footer
  class="bg-background p-4 rounded-b-3 sticky bottom-2 left-1 right-1 px-10"
>
  <div class="flex items-center relative">
    <textarea
      [(ngModel)]="message"
      placeholder="Type your message..."
      class="flex-1 p-3 pr-10 border border-border rounded-3 resize-none focus:outline-none focus:ring-1 focus:ring-muted focus:border-transparent min-h-8 max-h-32 cursor-pointer disabled:bg-surface disabled:cursor-not-allowed scrollbar-hidden"
      rows="1"
      (keydown)="onKeyDown($event)"
      [disabled]="isSending()"
    ></textarea>
    <button
      (click)="onSendMessage()"
      class="absolute right-2 w-8 h-8 bg-accent text-background rounded-full hover:bg-accent/80 transition-colors duration-200 focus:outline-none focus:ring-1 focus:ring-muted flex items-center justify-center cursor-pointer disabled:bg-accent/50 disabled:cursor-not-allowed"
      [disabled]="!message().trim() || isSending()"
    >
      @if (isSending()) {
      <div
        class="animate-spin rounded-full h-4 w-4 border-2 border-border border-b-transparent"
      ></div>
      } @else {
      <svg
        class="w-4 h-4 text-background"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"
        />
      </svg>
      }
    </button>
  </div>
</footer>
